<!-- <div class="container_fluid">
    <div class="row">
        <div class="col-12">

            <div>
                <h2>
                    <img
                        src="assets/images/checkout.png"
                        height="30"
                        width="30"
                    >
                   CHECKOUT
                </h2>
             </div>
            <hr>
            
            

            
          </div>
     </div>
</div> -->

<mat-horizontal-stepper [linear]="isLinear" #stepper>
  <mat-step [stepControl]="firstFormGroup">

    <ng-template matStepLabel>Select Delivery Optons</ng-template>
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">


            <table class="table table-hover">
                <thead>
                  <tr>
                    <th *ngFor="let col of columns" scope="col">{{col.name}}</th>
                    <th>Default Address</th>
                    <th>Action</th>

                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let address of this.addressDetail">

                    <td> {{address.id}} </td>
                    <td> {{address.fullName}} </td>
                    <td> {{address.streetAddress1}} {{address.streetAddress2}}</td>
                    <td> {{address.zipCode}}</td>
                    <td> {{address.state}}</td>
                    <td >
                            <mat-checkbox class="example-margin"   [(ngModel)]="address.default"
                            [ngModelOptions]="{standalone: true}">
                            </mat-checkbox>
                          
                      </td>

                    <td><button mdbBtn type="button" color="info" (click)="frame.show()" mdbWavesEffect data-toggle="modal"
                        data-target="#editAddress">
                        <mdb-icon icon="edit" class="ml-1"></mdb-icon>
                      </button>



                      <div mdbModal #frame="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog"
                        aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header text-center">
                              <h4 class="modal-title w-100 font-weight-bold">Edit Address</h4>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frame.hide()">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>

                            <form [formGroup]="editAddressForm" class="modal-body mx-3" (ngSubmit)="editAddress(this.editAddressForm.value); frame.hide()">

                              <!-- Full Name -->
                              <div class="md-form mb-2">

                                <input type="text" formControlName="fullName" class="form-control validate"
                                  placeholder="Full Name" mdbInputDirective />

                              </div>

                              <!-- Country -->
                              <div class="md-form mb-2">

                                <input type="text" formControlName="country" class="form-control validate"
                                  placeholder="Country" mdbInputDirective />

                              </div>

                              <!-- Address 1-->
                              <div class="md-form mb-2">

                                <input type="text" formControlName="streetAddress1" class="form-control validate"
                                  placeholder="Address" mdbInputDirective />

                              </div>

                              <!-- Address 2 -->
                              <div class="md-form mb-2">

                                <input type="text" formControlName="streetAddress2" class="form-control validate"
                                  placeholder="Address 2" mdbInputDirective />

                              </div>


                              <div class="form-row mb-4">

                                <div class="col">
                                  <!-- State -->
                                  <input type="text" formControlName="state" mdbInputDirective class="form-control"
                                    placeholder="State" />

                                </div>

                                <div class="col">
                                  <!-- Last name -->
                                  <input type="text" formControlName="city" mdbInputDirective class="form-control"
                                    placeholder="City" />

                                </div>

                              </div>


                              <!-- ZipCode-->
                              <div class="md-form mb-2">

                                <input type="text" formControlName="zipCode" class="form-control validate"
                                  placeholder="Zip Code" mdbInputDirective />

                              </div>

                              <!-- phone number-->
                              <div class="md-form mb-2">

                                <input type="text" formControlName="phoneNumber" class="form-control validate"
                                  placeholder="Phone Number" mdbInputDirective />

                              </div>



                              <label data-error="wrong" data-success="right" for="orangeForm-biladd">Default
                                Billing Address</label>
                              <br />
                              <!-- Default inline 1-->
                              <mat-radio-group [(ngModel)]="default" formControlName="default">
                                <mat-radio-button value="Yes">Yes</mat-radio-button>
                                <mat-radio-button value="No">No</mat-radio-button>
                              </mat-radio-group>
                              <div class="modal-footer d-flex justify-content-center">
                                <button mdbBtn color="deep-orange" class="waves-light" mdbWavesEffect type="submit">Edit</button>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>

                      <button mdbBtn type="button" color="danger" mdbWavesEffect (click)="deleteAddress()">
                        <mdb-icon icon="trash" class="ml-1"></mdb-icon>
                      </button>

                    </td>


                  </tr>
                </tbody>
              </table>



              <button mdbBtn type="button" color="success" (click)="frame.show()" mdbWavesEffect data-toggle="modal"
                data-target="#addAddress" style="float: right">
                <mdb-icon icon="plus" class="ml-1"></mdb-icon>
                Add New Address
              </button>

              <div mdbModal #frame="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog"
                aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header text-center">
                      <h4 class="modal-title w-100 font-weight-bold">Add New Address</h4>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="frame.hide()">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>

                    <form [formGroup]="addAddressForm" class="modal-body mx-3" (ngSubmit)="addNewAddress(this.addAddressForm.value); frame.hide()">

                      <!-- Full Name -->
                      <div class="md-form mb-2">

                        <input type="text" formControlName="fullName" class="form-control validate" placeholder="Full Name"
                          mdbInputDirective />

                      </div>

                      <!-- Country -->
                      <div class="md-form mb-2">

                        <input type="text" formControlName="country" class="form-control validate" placeholder="Country"
                          mdbInputDirective />

                      </div>

                      <!-- Address 1-->
                      <div class="md-form mb-2">

                        <input type="text" formControlName="streetAddress1" class="form-control validate"
                          placeholder="Address" mdbInputDirective />
                      </div>

                      <!-- Address 2 -->
                      <div class="md-form mb-2">

                        <input type="text" formControlName="streetAddress2" class="form-control validate"
                          placeholder="Address 2" mdbInputDirective />

                      </div>


                      <div class="form-row mb-4">

                        <div class="col">
                          <!-- State -->
                          <input type="text" formControlName="state" mdbInputDirective class="form-control"
                            placeholder="State" />

                        </div>

                        <div class="col">
                          <!-- Last name -->
                          <input type="text" formControlName="city" mdbInputDirective class="form-control"
                            placeholder="City" />

                        </div>

                      </div>


                      <!-- ZipCode-->
                      <div class="md-form mb-2">

                        <input type="text" formControlName="zipCode" class="form-control validate" placeholder="Zip Code"
                          mdbInputDirective />

                      </div>

                      <!-- phone number-->
                      <div class="md-form mb-2">

                        <input type="text" formControlName="phoneNumber" class="form-control validate" placeholder="Phone Number"
                          mdbInputDirective />

                      </div>



                      <label data-error="wrong" data-success="right" for="orangeForm-biladd">Default
                        Billing Address</label>
                      <br />
                      <mat-radio-group [(ngModel)]="default" formControlName="default">
                        <mat-radio-button value="Yes">Yes</mat-radio-button>
                        <mat-radio-button value="No">No</mat-radio-button>
                      </mat-radio-group>
                      <div class="modal-footer d-flex justify-content-center">
                        <button mdbBtn color="deep-orange" class="waves-light" mdbWavesEffect type="submit">Add</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>


          </div>
        </div>
      </div>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Select Payment Options</ng-template>

      <h4>Payment Method </h4>

      <!-- Default inline 1-->
      <mat-radio-group [(ngModel)]="payment" formControlName="payment">
        <mat-radio-button checked value="paypal" style="width: 8%"><img src="../../assets/images/paypal.png" alt="Pay with Paypal"></mat-radio-button>
        &nbsp;
        <mat-radio-button  value="utrust" style="width: 8%"><img src="../../assets/images/utrust.png" alt="Pay with Utrust"></mat-radio-button>
      </mat-radio-group>
      <!-- Default inline 2-->
      <hr>
            <h4>Delivery Method </h4>

            <mat-radio-group [(ngModel)]="delivery" formControlName="delivery">
                <mat-radio-button checked value="Free">Free</mat-radio-button>
                &nbsp;
                <mat-radio-button  value="Express">Express</mat-radio-button>
              </mat-radio-group>

      
       <div>
        
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    <div class="container-fluid">
      <div class="row">
        <div class="col-9">

          <div class="container-table-cart pos-relative">
            <div class="wrap-table-shopping-cart bgwhite">
              <table class="table-shopping-cart">
                <tbody>
                  <tr class="table-head">
                    <th>Cart No.</th>
                    <th></th>
                    <th *ngFor="let col of columnproduct">{{col.name}}</th>

                    <th>Action</th>


                  </tr>

                  <tr class="table-row" *ngFor="let prod of this.cartDetail[0].cartproduct">
                    <td>
                      <a href="#"> # {{prod.id}}</a>
                    </td>
                    <td>
                      <div class="cart-img-product b-rad-4 o-f-hidden">
                        <img src={{prod.product.img[0]}}>
                      </div>
                    </td>
                    <td style="font-size: 20px"><strong>{{prod.product.title}}</strong>

                      <div *ngFor="let item of prod.product.option">( {{item.title}} : {{item.selected}} ) </div>
                    </td>
                    <td id="price">$ {{prod.product.price}}</td>
                    <td> <input type="number" [(ngModel)]="prod.product.quantity" id="quantity" value="1" aria-label="Search"
                        class="form-control" style="width: 100px" min="1"></td>
                    <td>
                      <button type="button" class="btn btn-danger btn-rounded" (click)="deleteCheckout(prod.id)">
                        Delete
                      </button>


                    </td>



                  </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>

        <div class="col-3">
          <div class="bo9 w-size18 p-l-40 p-r-40 p-t-30 p-b-38 m-t-30 m-r-0 m-l-auto p-lr-15-sm">
            <h5 class="m-text20 p-b-24">Merchandise Summary</h5>
            <div class="flex-w flex-sb-m p-b-12">
              <span class="s-text18 w-size19 w-full-sm">Subtotal:</span>

              <span class="m-text21 w-size20 w-full-sm" for="total">{{total |currency:'SGD':true:'1.2-2'}}</span>
              <span class="s-text18 w-size19 w-full-sm">Shipping Fee:</span>

              <span class="m-text21 w-size20 w-full-sm">SGD $0.00</span>
            </div>

            <div class="flex-w flex-sb bo10 p-t-15 p-b-20">
              <div class="flex-w flex-m w-full-sm">
                <div class="size11 bo4 m-r-10">
                  <input class="sizefull s-text7 p-l-22 p-r-22" type="text" name="coupon-code" placeholder="Promo Code/ Vouchers:">
                </div>

                <div class="size12 trans-0-4 m-t-10 m-b-10 m-r-10">
                  <!-- Button -->
                  <button class="flex-c-m sizefull bg1 bo-rad-23 hov1 s-text1 trans-0-4">Apply coupon</button>
                </div>
              </div>

            </div>
            <div class="flex-w flex-sb-m p-t-26 p-b-30">
              <span class="m-text22 w-size19 w-full-sm">Total:</span>
              <span class="m-text21 w-size20 w-full-sm">{{total |currency:'SGD':true:'1.2-2'}}</span>
            </div>
            <div class="size15 trans-0-4">
              <!-- Button -->
              <div id="paypal-button-container"  >
                
              </div>

              <!-- <button  id="paypal-checkout-btn">
            </button> -->
              <!-- <ngx-paypal [config]="payPalConfig"></ngx-paypal> -->
            </div>

          </div>

        </div>
        <div>
        </div>
      </div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>
